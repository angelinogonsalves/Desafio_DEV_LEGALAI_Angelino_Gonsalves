"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/match";
exports.ids = ["pages/api/match"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmatch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cmatch.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmatch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cmatch.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_match_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\match.js */ \"(api-node)/./pages/api/match.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_match_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_match_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/match\",\n        pathname: \"/api/match\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_match_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGbWF0Y2gmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q21hdGNoLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQ21EO0FBQ25EO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxnREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsZ0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcbWF0Y2guanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL21hdGNoXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbWF0Y2hcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmatch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cmatch.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/match.js":
/*!****************************!*\
  !*** ./pages/api/match.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n// Importa o driver oficial do MongoDB\n\n// Lê a URI do banco de dados do .env.local\nconst uri = process.env.MONGODB_URI;\n// Cria uma instância do cliente Mongo\nconst client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri);\n// Define grupos de áreas relacionadas para afinidade parcial\nconst gruposRelacionados = {\n    tecnologia: [\n        \"programação\",\n        \"dados\",\n        \"segurança da informação\",\n        \"machine learning\",\n        \"criptografia\",\n        \"robótica\"\n    ],\n    artes: [\n        \"música\",\n        \"teatro\",\n        \"pintura\",\n        \"fotografia\",\n        \"cinema\",\n        \"dança\",\n        \"desenho digital\"\n    ],\n    esportes: [\n        \"corrida\",\n        \"futebol\",\n        \"basquete\"\n    ],\n    criativo: [\n        \"games\",\n        \"jogos\",\n        \"ux design\",\n        \"design gráfico\"\n    ],\n    humanas: [\n        \"psicologia\",\n        \"arquitetura\",\n        \"ecologia\",\n        \"marketing digital\"\n    ]\n};\n// Verifica se duas áreas pertencem ao mesmo grupo\nfunction saoRelacionadas(area1, area2) {\n    area1 = area1.toLowerCase();\n    area2 = area2.toLowerCase();\n    return Object.values(gruposRelacionados).some((grupo)=>grupo.includes(area1) && grupo.includes(area2));\n}\n// Função que calcula a afinidade com base nas regras definidas\nfunction calcularAfinidade(usuario, outro) {\n    let score = 0;\n    if (usuario.local.toLowerCase() === outro.local.toLowerCase()) {\n        score += 50; // mesma cidade\n    }\n    if (usuario.area.toLowerCase() === outro.area.toLowerCase()) {\n        score += 30; // mesma área\n    } else if (saoRelacionadas(usuario.area, outro.area)) {\n        score += 15; // áreas próximas\n    }\n    return score;\n}\n// Função principal da rota API: chamada em POST para /api/match\nasync function handler(req, res) {\n    // Permite apenas requisições POST\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            message: 'Método não permitido'\n        });\n    }\n    // Extrai os dados enviados pelo frontend\n    const { nome, area, local } = req.body;\n    // Valida os campos obrigatórios\n    if (!nome || !area || !local) {\n        return res.status(400).json({\n            message: 'Dados incompletos'\n        });\n    }\n    try {\n        // Garante que a conexão com o MongoDB esteja ativa\n        if (!client.isConnected) await client.connect();\n        // Acessa o banco e a coleção de usuários\n        const db = client.db(\"legalai\");\n        const usuarios = db.collection(\"usuarios\");\n        // Verifica se o usuário já existe no banco (mesmo nome, área e cidade)\n        const jaExiste = await usuarios.findOne({\n            nome,\n            area,\n            local\n        });\n        // Se não existir, insere como novo perfil\n        if (!jaExiste) {\n            await usuarios.insertOne({\n                nome,\n                area,\n                local\n            });\n        }\n        // Busca todos os demais usuários (excluindo o próprio)\n        const todos = await usuarios.find({\n            nome: {\n                $ne: nome\n            }\n        }).toArray();\n        // Calcula afinidade com cada usuário da base\n        const comPontuacao = todos.map((user)=>({\n                ...user,\n                afinidade: calcularAfinidade({\n                    nome,\n                    area,\n                    local\n                }, user)\n            }));\n        // Ordena por afinidade (maior primeiro) e pega os 3 melhores\n        const top3 = comPontuacao.sort((a, b)=>b.afinidade - a.afinidade).slice(0, 3);\n        // Retorna os top 3 matches pro frontend\n        return res.status(200).json({\n            matches: top3\n        });\n    } catch (err) {\n        console.error('Erro na API /match:', err);\n        return res.status(500).json({\n            message: 'Erro no servidor'\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNQyxlQUFlSixNQUFNSyxHQUFHLENBQUMsQ0FBQ0MsT0FBVTtnQkFDeEMsR0FBR0EsSUFBSTtnQkFDUEMsV0FBVzlCLGtCQUFrQjtvQkFBRWE7b0JBQU1SO29CQUFNRDtnQkFBTSxHQUFHeUI7WUFDdEQ7UUFFQSw2REFBNkQ7UUFDN0QsTUFBTUUsT0FBT0osYUFDVkssSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1BLEVBQUVKLFNBQVMsR0FBR0csRUFBRUgsU0FBUyxFQUN4Q0ssS0FBSyxDQUFDLEdBQUc7UUFFWix3Q0FBd0M7UUFDeEMsT0FBTzNCLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRXlCLFNBQVNMO1FBQUs7SUFDOUMsRUFBRSxPQUFPTSxLQUFLO1FBQ1pDLFFBQVFDLEtBQUssQ0FBQyx1QkFBdUJGO1FBQ3JDLE9BQU83QixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7UUFBbUI7SUFDNUQ7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFByb2plY3RzXFxEZXNhZmlvX0RFVl9MRUdBTEFJX0FuZ2VsaW5vX0dvbnNhbHZlc1xccGFnZXNcXGFwaVxcbWF0Y2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0YSBvIGRyaXZlciBvZmljaWFsIGRvIE1vbmdvREJcbmltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSAnbW9uZ29kYic7XG5cbi8vIEzDqiBhIFVSSSBkbyBiYW5jbyBkZSBkYWRvcyBkbyAuZW52LmxvY2FsXG5jb25zdCB1cmkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcblxuLy8gQ3JpYSB1bWEgaW5zdMOibmNpYSBkbyBjbGllbnRlIE1vbmdvXG5jb25zdCBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJpKTtcblxuLy8gRGVmaW5lIGdydXBvcyBkZSDDoXJlYXMgcmVsYWNpb25hZGFzIHBhcmEgYWZpbmlkYWRlIHBhcmNpYWxcbmNvbnN0IGdydXBvc1JlbGFjaW9uYWRvcyA9IHtcbiAgdGVjbm9sb2dpYTogW1wicHJvZ3JhbWHDp8Ojb1wiLCBcImRhZG9zXCIsIFwic2VndXJhbsOnYSBkYSBpbmZvcm1hw6fDo29cIiwgXCJtYWNoaW5lIGxlYXJuaW5nXCIsIFwiY3JpcHRvZ3JhZmlhXCIsIFwicm9iw7N0aWNhXCJdLFxuICBhcnRlczogW1wibcO6c2ljYVwiLCBcInRlYXRyb1wiLCBcInBpbnR1cmFcIiwgXCJmb3RvZ3JhZmlhXCIsIFwiY2luZW1hXCIsIFwiZGFuw6dhXCIsIFwiZGVzZW5obyBkaWdpdGFsXCJdLFxuICBlc3BvcnRlczogW1wiY29ycmlkYVwiLCBcImZ1dGVib2xcIiwgXCJiYXNxdWV0ZVwiXSxcbiAgY3JpYXRpdm86IFtcImdhbWVzXCIsIFwiam9nb3NcIiwgXCJ1eCBkZXNpZ25cIiwgXCJkZXNpZ24gZ3LDoWZpY29cIl0sXG4gIGh1bWFuYXM6IFtcInBzaWNvbG9naWFcIiwgXCJhcnF1aXRldHVyYVwiLCBcImVjb2xvZ2lhXCIsIFwibWFya2V0aW5nIGRpZ2l0YWxcIl1cbn07XG5cbi8vIFZlcmlmaWNhIHNlIGR1YXMgw6FyZWFzIHBlcnRlbmNlbSBhbyBtZXNtbyBncnVwb1xuZnVuY3Rpb24gc2FvUmVsYWNpb25hZGFzKGFyZWExLCBhcmVhMikge1xuICBhcmVhMSA9IGFyZWExLnRvTG93ZXJDYXNlKCk7XG4gIGFyZWEyID0gYXJlYTIudG9Mb3dlckNhc2UoKTtcblxuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhncnVwb3NSZWxhY2lvbmFkb3MpLnNvbWUoKGdydXBvKSA9PlxuICAgIGdydXBvLmluY2x1ZGVzKGFyZWExKSAmJiBncnVwby5pbmNsdWRlcyhhcmVhMilcbiAgKTtcbn1cblxuLy8gRnVuw6fDo28gcXVlIGNhbGN1bGEgYSBhZmluaWRhZGUgY29tIGJhc2UgbmFzIHJlZ3JhcyBkZWZpbmlkYXNcbmZ1bmN0aW9uIGNhbGN1bGFyQWZpbmlkYWRlKHVzdWFyaW8sIG91dHJvKSB7XG4gIGxldCBzY29yZSA9IDA7XG5cbiAgaWYgKHVzdWFyaW8ubG9jYWwudG9Mb3dlckNhc2UoKSA9PT0gb3V0cm8ubG9jYWwudG9Mb3dlckNhc2UoKSkge1xuICAgIHNjb3JlICs9IDUwOyAvLyBtZXNtYSBjaWRhZGVcbiAgfVxuXG4gIGlmICh1c3VhcmlvLmFyZWEudG9Mb3dlckNhc2UoKSA9PT0gb3V0cm8uYXJlYS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgc2NvcmUgKz0gMzA7IC8vIG1lc21hIMOhcmVhXG4gIH0gZWxzZSBpZiAoc2FvUmVsYWNpb25hZGFzKHVzdWFyaW8uYXJlYSwgb3V0cm8uYXJlYSkpIHtcbiAgICBzY29yZSArPSAxNTsgLy8gw6FyZWFzIHByw7N4aW1hc1xuICB9XG5cbiAgcmV0dXJuIHNjb3JlO1xufVxuXG4vLyBGdW7Dp8OjbyBwcmluY2lwYWwgZGEgcm90YSBBUEk6IGNoYW1hZGEgZW0gUE9TVCBwYXJhIC9hcGkvbWF0Y2hcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgLy8gUGVybWl0ZSBhcGVuYXMgcmVxdWlzacOnw7VlcyBQT1NUXG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiAnTcOpdG9kbyBuw6NvIHBlcm1pdGlkbycgfSk7XG4gIH1cblxuICAvLyBFeHRyYWkgb3MgZGFkb3MgZW52aWFkb3MgcGVsbyBmcm9udGVuZFxuICBjb25zdCB7IG5vbWUsIGFyZWEsIGxvY2FsIH0gPSByZXEuYm9keTtcblxuICAvLyBWYWxpZGEgb3MgY2FtcG9zIG9icmlnYXTDs3Jpb3NcbiAgaWYgKCFub21lIHx8ICFhcmVhIHx8ICFsb2NhbCkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdEYWRvcyBpbmNvbXBsZXRvcycgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIEdhcmFudGUgcXVlIGEgY29uZXjDo28gY29tIG8gTW9uZ29EQiBlc3RlamEgYXRpdmFcbiAgICBpZiAoIWNsaWVudC5pc0Nvbm5lY3RlZCkgYXdhaXQgY2xpZW50LmNvbm5lY3QoKTtcblxuICAgIC8vIEFjZXNzYSBvIGJhbmNvIGUgYSBjb2xlw6fDo28gZGUgdXN1w6FyaW9zXG4gICAgY29uc3QgZGIgPSBjbGllbnQuZGIoXCJsZWdhbGFpXCIpO1xuICAgIGNvbnN0IHVzdWFyaW9zID0gZGIuY29sbGVjdGlvbihcInVzdWFyaW9zXCIpO1xuXG4gICAgLy8gVmVyaWZpY2Egc2UgbyB1c3XDoXJpbyBqw6EgZXhpc3RlIG5vIGJhbmNvIChtZXNtbyBub21lLCDDoXJlYSBlIGNpZGFkZSlcbiAgICBjb25zdCBqYUV4aXN0ZSA9IGF3YWl0IHVzdWFyaW9zLmZpbmRPbmUoeyBub21lLCBhcmVhLCBsb2NhbCB9KTtcblxuICAgIC8vIFNlIG7Do28gZXhpc3RpciwgaW5zZXJlIGNvbW8gbm92byBwZXJmaWxcbiAgICBpZiAoIWphRXhpc3RlKSB7XG4gICAgICBhd2FpdCB1c3Vhcmlvcy5pbnNlcnRPbmUoeyBub21lLCBhcmVhLCBsb2NhbCB9KTtcbiAgICB9XG5cbiAgICAvLyBCdXNjYSB0b2RvcyBvcyBkZW1haXMgdXN1w6FyaW9zIChleGNsdWluZG8gbyBwcsOzcHJpbylcbiAgICBjb25zdCB0b2RvcyA9IGF3YWl0IHVzdWFyaW9zLmZpbmQoeyBub21lOiB7ICRuZTogbm9tZSB9IH0pLnRvQXJyYXkoKTtcblxuICAgIC8vIENhbGN1bGEgYWZpbmlkYWRlIGNvbSBjYWRhIHVzdcOhcmlvIGRhIGJhc2VcbiAgICBjb25zdCBjb21Qb250dWFjYW8gPSB0b2Rvcy5tYXAoKHVzZXIpID0+ICh7XG4gICAgICAuLi51c2VyLFxuICAgICAgYWZpbmlkYWRlOiBjYWxjdWxhckFmaW5pZGFkZSh7IG5vbWUsIGFyZWEsIGxvY2FsIH0sIHVzZXIpLFxuICAgIH0pKTtcblxuICAgIC8vIE9yZGVuYSBwb3IgYWZpbmlkYWRlIChtYWlvciBwcmltZWlybykgZSBwZWdhIG9zIDMgbWVsaG9yZXNcbiAgICBjb25zdCB0b3AzID0gY29tUG9udHVhY2FvXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi5hZmluaWRhZGUgLSBhLmFmaW5pZGFkZSlcbiAgICAgIC5zbGljZSgwLCAzKTtcblxuICAgIC8vIFJldG9ybmEgb3MgdG9wIDMgbWF0Y2hlcyBwcm8gZnJvbnRlbmRcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBtYXRjaGVzOiB0b3AzIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIG5hIEFQSSAvbWF0Y2g6JywgZXJyKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJybyBubyBzZXJ2aWRvcicgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsInVyaSIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsImNsaWVudCIsImdydXBvc1JlbGFjaW9uYWRvcyIsInRlY25vbG9naWEiLCJhcnRlcyIsImVzcG9ydGVzIiwiY3JpYXRpdm8iLCJodW1hbmFzIiwic2FvUmVsYWNpb25hZGFzIiwiYXJlYTEiLCJhcmVhMiIsInRvTG93ZXJDYXNlIiwiT2JqZWN0IiwidmFsdWVzIiwic29tZSIsImdydXBvIiwiaW5jbHVkZXMiLCJjYWxjdWxhckFmaW5pZGFkZSIsInVzdWFyaW8iLCJvdXRybyIsInNjb3JlIiwibG9jYWwiLCJhcmVhIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwibm9tZSIsImJvZHkiLCJpc0Nvbm5lY3RlZCIsImNvbm5lY3QiLCJkYiIsInVzdWFyaW9zIiwiY29sbGVjdGlvbiIsImphRXhpc3RlIiwiZmluZE9uZSIsImluc2VydE9uZSIsInRvZG9zIiwiZmluZCIsIiRuZSIsInRvQXJyYXkiLCJjb21Qb250dWFjYW8iLCJtYXAiLCJ1c2VyIiwiYWZpbmlkYWRlIiwidG9wMyIsInNvcnQiLCJhIiwiYiIsInNsaWNlIiwibWF0Y2hlcyIsImVyciIsImNvbnNvbGUiLCJlcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/match.js\n");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmatch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cmatch.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();